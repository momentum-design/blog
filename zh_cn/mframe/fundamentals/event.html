<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Momentum Documents</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="icon" href="/blog/favicon.ico">
  
<link rel="stylesheet" href="/blog/css/momentum-ui.min.css">
<link rel="stylesheet" href="/blog/css/site.css">
<link rel="stylesheet" href="/blog/css/highlights.css">

  
<script src="/blog/js/highlight.pack.js"></script>

  <script type="text/javascript" src="/blog/lib/mframe/mframe.js"></script>

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <header class="md-top-bar md-top-bar--light" role="navigation">
  <div class="md-top-bar__container">
    <div class="md-top-bar__brand">
      <a class="md-brand" href="/blog/">
        <div class="md-brand__logo">
          <img src="/blog/images/momentum/momentum-color-icon.svg" alt="Momentum UI" />
        </div>
        <div class="md-brand__title">Momentum UI</div>
      </a>
    </div>
    <nav class="md-top-bar__nav ">
      <div class="md-list md-list--horizontal" role="list">
        
            <a class="md-list-item active" role="listItem" href="https://momentum-design.github.io/blog/zh_cn/mframe/fundamentals/motion_object.html">基本原理</a>
        
            <a class="md-list-item" role="listItem" href="https://momentum-design.github.io/blog/zh_cn/mframe/getting_started/just_start.html">开始使用</a>
        
      </div>
    </nav>
    <div class="md-top-bar__right md-top-bar__language">
      <a class="md-list-item" role="listItem">语言</a>
      <div class="md-event-overlay__children" style="top: 60px; right: 20px;">
  <div class="md-menu md-menu-item-container" aria-label="" role="menubar"><div class="md-menu-item" aria-expanded="false" aria-haspopup="false">
    <a href="https://momentum-design.github.io/blog/en_us/mframe/fundamentals/event.html" aria-current="false" class="md-list-item" role="menuitem" tabindex="-1">English</a>
</div><div class="md-menu-item" aria-expanded="false" aria-haspopup="false">
    <a href="https://momentum-design.github.io/blog/zh_cn/mframe/fundamentals/event.html" aria-current="false" class="md-list-item" role="menuitem" tabindex="-1">简体中文</a>
</div></div>
</div>
    </div>
    <i class="md-top-bar__mobile-menu-button icon icon-list-menu_20"></i>
    <div class="md-top-bar__mobile md-tb-mobile">
      <i class="icon icon-cancel_20"></i>
        <div class="md-top-bar__brand">
          <a class="md-brand" href="/">
            <div class="md-brand__logo">
              <img src="/blog/images/momentum/momentum-color-icon.svg" alt="Momentum UI" />
            </div>
            <div class="md-brand__title">Momentum UI</div>
          </a>
        </div>
      <div class="md-list-separator"></div>
      <nav class="md-tb-mobile__nav" role="navigation">
        
            <a class="md-list-item active" role="listItem" href="https://momentum-design.github.io/blog/zh_cn/mframe/fundamentals/motion_object.html">基本原理</a>
        
            <a class="md-list-item" role="listItem" href="https://momentum-design.github.io/blog/zh_cn/mframe/getting_started/just_start.html">开始使用</a>
        
      </nav>
    </div>
    <div class="md-tb-mobile__mask" role="none"></div>
  </div>
</header>

  <div class="site-con">
    <div class="site-left">
        <div class="md-sidebar md-sidebar--indented md-sidebar--nested md-sidebar--expanded">
  <div class="md-sidebar__body">
    <div class="md-sidebar-nav">
      <div class="md-list md-list--vertical md-sidebar-nav__group md-sidebar-nav__group--primary" role="list">
        
          <a class="md-list-item md-list-item_cap md-list-item__center" role="listitem" href="https://momentum-design.github.io/blog/zh_cn/mframe/fundamentals/motion_object.html">动画对象</a>
        
          <a class="md-list-item md-list-item_cap md-list-item__center" role="listitem" href="https://momentum-design.github.io/blog/zh_cn/mframe/fundamentals/key_frame.html">关键帧</a>
        
          <a class="md-list-item md-list-item_cap md-list-item__center" role="listitem" href="https://momentum-design.github.io/blog/zh_cn/mframe/fundamentals/time_unit.html">时间单位</a>
        
          <a class="md-list-item md-list-item_cap md-list-item__center" role="listitem" href="https://momentum-design.github.io/blog/zh_cn/mframe/fundamentals/tween.html">缓动</a>
        
          <a class="md-list-item active md-list-item_cap md-list-item__center" role="listitem" href="https://momentum-design.github.io/blog/zh_cn/mframe/fundamentals/event.html">事件</a>
        
          <a class="md-list-item md-list-item_cap md-list-item__center" role="listitem" href="https://momentum-design.github.io/blog/zh_cn/mframe/fundamentals/plugin.html">插件</a>
        
          <a class="md-list-item md-list-item_cap md-list-item__center" role="listitem" href="https://momentum-design.github.io/blog/zh_cn/mframe/fundamentals/speed.html">差速动画</a>
        
      </div>
    </div>
  </div>
</div>

    </div>
    <div class='docs-content-area site-right'>
      <article id="post-zh_cn/mframe/fundamentals/event" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    <h1 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h1><p><a href="https://github.com/momentum-design/momentum-ui/blob/master/charts/LICENSE" target="_blank" rel="noopener"><img src="https://img.shields.io/github/license/momentum-design/momentum-ui.svg?color=blueviolet" alt="license"></a></p>
<blockquote>
<p>mframe</p>
</blockquote>
<h2 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h2><p>当你编写代码来制作动画，而不是直接使用动画素材时，你一定是想控制动画中地一些东西。非常幸运，mframe可以帮你控制动画中的每一帧。</p>
<p>在mframe中，你可以设置global_events和dom_events。</p>
<h4 id="例"><a href="#例" class="headerlink" title="例"></a>例</h4><pre><code>var motion = mframe([{
  dom: document.getElementById(&#39;ball&#39;),
  frames: [
    { css: { backgroundColor: &#39;#279BE8&#39; }, time: 0 },
    { css: { backgroundColor: &#39;#E6F8FF&#39; }, time: 120, tween:&#39;easeInOut&#39; },
  ],
  dom_events
}], global_events);</code></pre><h2 id="global-events"><a href="#global-events" class="headerlink" title="global_events"></a>global_events</h2><p>以下示例展示了global_events所有可以设置的属性，并且按照调用的先后顺序排列。</p>
<h4 id="例-1"><a href="#例-1" class="headerlink" title="例"></a>例</h4><pre><code>global_events = {
    start: function() {},
    beforeEach: function(frame_index) {},
    // dom_events 会在这个时候调用
    each: function(frame_index) {},
    &#39;10&#39;: function() {},
    end: function() {},
    stop: function() {},
    pause: function() {}
};</code></pre><ul>
<li><p>start</p>
<p>  start事件会在动画最开始的时候被调用。</p>
</li>
<li><p>beforeEach</p>
<p>  beforeEach事件在每一帧渲染前被调用。</p>
</li>
<li><p>each</p>
<p>  each事件在每一帧渲染后被调用。</p>
</li>
<li><p>_number</p>
<p>  _number代表在某一帧触发的事件，它在each事件后被调用。    </p>
</li>
<li><p>end</p>
<p>  end事件在动画结束时被调用（repeat为0时）。</p>
</li>
<li><p>stop</p>
<p>  stop事件在mframe实例调用stop方法时被调用。</p>
</li>
<li><p>pause</p>
<p>  pause事件在mframe实例调用pause方法时被调用。</p>
</li>
</ul>
<h3 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h3><p>你也可以在mframe实例创建后绑定global_events。</p>
<h4 id="例-2"><a href="#例-2" class="headerlink" title="例"></a>例</h4><pre><code>var motion = mframe([{
  dom: document.getElementById(&#39;ball&#39;),
  frames: [
    { css: { backgroundColor: &#39;#279BE8&#39; }, time: 0 },
    { css: { backgroundColor: &#39;#E6F8FF&#39; }, time: 120},
  ]]);
motion.bind(&#39;stop&#39;, function() {});</code></pre><h2 id="dom-events"><a href="#dom-events" class="headerlink" title="dom_events"></a>dom_events</h2><p>以下示例展示了dom_events所有可以设置的属性，并且按照调用的先后顺序排列。 </p>
<h4 id="例-3"><a href="#例-3" class="headerlink" title="例"></a>例</h4><pre><code>dom_events = {
    beforeEach: function(frame_index) {}
    each: function(frame_index, arg) {},
    &#39;10&#39;: function() {}
};</code></pre><ul>
<li><p>beforeEach</p>
<p>  beforeEach事件在每一帧渲染前被调用。</p>
</li>
<li><p>each</p>
<p>  each事件在每一帧渲染后被调用。</p>
</li>
<li><p>_number</p>
<p>  _number代表在某一帧触发的事件，它在each事件后被调用。    </p>
</li>
</ul>
<h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><p>以上展示的例子也展示了各个事件可以接收哪些参数</p>
<h3 id="frame-index"><a href="#frame-index" class="headerlink" title="frame_index"></a>frame_index</h3><p>整数，代表当前帧的序数。</p>
<h3 id="arg"><a href="#arg" class="headerlink" title="arg"></a>arg</h3><p>如果你在mframe对象中使用了arg(和css, attr, prop同级)， 它会创建其属性在每一帧的数值。</p>
<h4 id="例-4"><a href="#例-4" class="headerlink" title="例"></a>例</h4><pre><code>var motion = mframe([{
  dom: ctx,
  frames:[
    { arg:{r:&#39;60&#39;}, time:0},
    { arg:{r:&#39;63&#39;}, time:3}
  ],
  events: {
    each: function(i, arg){
        console.log(i, arg);
        /* out put
            0, { r: 60 }
            1, { r: 61 }
            2, { r: 62 }
            3, { r: 63 }
        */
    }
  }
}]);</code></pre>
  </div>
</article>

    </div>
  </div>
  <footer class="md-footer">
    <div class="md-list md-list--horizontal md-footer__list" role="list">
        <a class="md-list-item" ><img  class="md-footer__logo" src="/blog/images/cisco/cisco-logo-white.svg" alt="Momentum UI" /></a>
        <a class="md-list-item">© 2020 Cisco and/or its affiliates. All rights reserved.</a>
        <a class="md-list-item md-link--nav" id="md-list-item-3" role="listitem" tabindex="-1" data-md-event-key="md-list-item-3">Support &amp; Feedback</a>
        <a class="md-list-item md-link--nav" id="md-list-item-4" role="listitem" href="https://www.cisco.com/c/en/us/about/legal/privacy.html" tabindex="-1" data-md-event-key="md-list-item-4" target="_blank">Privacy Policy</a>
        <a class="md-list-item md-link--nav" id="md-list-item-5" role="listitem" href="https://www.cisco.com/c/en/us/about/legal/privacy.html#cookies" tabindex="-1" data-md-event-key="md-list-item-5" target="_blank">Cookie Policy</a>
    </div>
</footer>
  <script type="text/javascript">
    hljs && hljs.initHighlightingOnLoad();
  </script>
</body>
</html>